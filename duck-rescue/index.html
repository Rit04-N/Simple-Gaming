<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Duck Rescue: Storm Surge</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="main-wrapper">
        <div class="game-column">
            <div class="game-container">
                <div class="top-bar">
                    <h1 class="game-title">DUCK RESCUE</h1>
                    <button class="icon-btn settings-trigger" onclick="openSettings()">‚öôÔ∏è</button>
                </div>

                <div id="statusOverlay" class="overlay">
                    <h1 id="statusTitle">READY?</h1>
                    <p id="waveInfo" style="color: #f1c40f; font-size: 1.2rem; margin-bottom: 10px;">Wave 1: Rescue 3 Ducks</p>
                    <p id="highScoreText">High Score: 0</p>
                    <p id="finalDeathText" class="death-text"></p>
                    <button class="btn start-btn" onclick="startGame()">‚ñ∂ START WAVE 1</button>
                </div>

                <div id="levelUpOverlay" class="overlay" style="background: rgba(46, 204, 113, 0.9); display: none;">
                    <h1>WAVE COMPLETE!</h1>
                    <p>Get ready for harder waters...</p>
                </div>

                <div class="hud-grid">
                    <div class="hud-box">Wave: <span id="levelDisplay">1</span></div>
                    <div class="hud-box target-box">Target: <span id="savedDisplay">0</span>/<span id="targetDisplay">3</span></div>
                    <div class="hud-box score-box">Score: <span id="scoreDisplay">0</span></div>
                </div>

                <div class="sub-header">
                    <div class="lives-box" id="livesDisplay">‚ù§‚ù§‚ù§‚ù§‚ù§</div>
                    <div class="death-box">Casualties: <span id="deathDisplay">0</span> üíÄ</div>
                </div>

                <div class="boost-container">
                    <div id="boostBar"></div>
                </div>

                <canvas id="gameCanvas"></canvas>

                <div class="ui-layer">
                    <button class="btn pause-btn" onclick="togglePause()">PAUSE</button>
                </div>
            </div>

            <div id="settingsModal" class="settings-modal">
                <div class="settings-content">
                    <h2>‚öôÔ∏è SETTINGS</h2>
                    
                    <div class="setting-row">
                        <label>Control Type:</label>
                        <div class="toggle-group">
                            <button class="toggle-btn active" id="btnJoystick" onclick="setControlType('joystick')">Joystick</button>
                            <button class="toggle-btn" id="btnDpad" onclick="setControlType('dpad')">D-Pad</button>
                        </div>
                    </div>

                    <div class="setting-row" id="sensitivityRow">
                        <label>Joystick Sensitivity:</label>
                        <input type="range" id="sensSlider" min="10" max="60" value="30" oninput="updateSens(this.value)">
                        <span id="sensValue">30</span>
                    </div>

                    <div class="setting-row">
                        <label>Sound Effects:</label>
                        <button class="toggle-btn active" id="btnSound" onclick="toggleSound()">ON</button>
                    </div>

                    <button class="btn close-btn" onclick="closeSettings()">SAVE & CLOSE</button>
                </div>
            </div>

            <div id="dpadContainer" class="mobile-controls" style="display: none;">
                <div class="d-pad-grid">
                    <button class="d-btn diag" data-key="UL">‚ó§</button>
                    <button class="d-btn" data-key="UP">‚ñ≤</button>
                    <button class="d-btn diag" data-key="UR">‚ó•</button>
                    <button class="d-btn" data-key="LEFT">‚óÄ</button>
                    <button class="d-btn center-boost" data-key="BOOST">üöÄ</button>
                    <button class="d-btn" data-key="RIGHT">‚ñ∂</button>
                    <button class="d-btn diag" data-key="DL">‚ó£</button>
                    <button class="d-btn" data-key="DOWN">‚ñº</button>
                    <button class="d-btn diag" data-key="DR">‚ó¢</button>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h3 style="margin-top:0; color:#f1c40f;">MISSION OBJECTIVES</h3>
            <p><strong>The Storm is Coming!</strong><br>Rescue the required number of ducklings to escape the storm. Each wave brings more predators.</p>
            <hr>
            <p>üêä <strong>Crocodile:</strong> Cuts the line! If it touches your trail, you lose every baby behind that point.</p>
            <p>üêü <strong>Pike:</strong> Scares babies away.</p>
            <hr>
            <div class="key-guide">
                <p><strong>PC:</strong> Arrows/WASD + Space</p>
                <p><strong>Mobile:</strong> Configure in Settings ‚öôÔ∏è</p>
            </div>
            <a href="../index.html" class="back-link">‚Üê Back to Hub</a>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
